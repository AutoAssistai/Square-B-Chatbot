# Square B Arabic Chatbot ๐ค

ูุณุงุนุฏ ุฏุฑุฏุดุฉ ุฐูู ูุฎุฏูุฉ ุนููุงุก ูุทุนู Square B ุจุงููุบุฉ ุงูุนุฑุจูุฉ

## ุงููููุฒุงุช โจ

- โ **ุฏูุฉ ุนุงููุฉ**: ูุนุชูุฏ ุญุตุฑูุงู ุนูู ุจูุงูุงุช MENU.txt
- โ **ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏู**: ูููู ุงูููุงูุง ุงููุฎุชููุฉ ูููุฏู ุงูุชุฑุงุญุงุช ุฐููุฉ
- โ **Fuzzy Matching**: ูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุงูุฅููุงุฆูุฉ ุจุฐูุงุก
- โ **ุฃุฏุงุก ูุญุณูู**: ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ ูุน ุฅุฏุงุฑุฉ ูุนุงูุฉ ููุฐุงูุฑุฉ
- โ **ูุชุนุฏุฏ ุงููุบุงุช**: ูููู ุงูุนุฑุจู ูุงูุฅูุฌููุฒู ููุฑุฏ ุจุงูุนุฑุจู ุงูุฃุฑุฏูู
- โ **ุฅุฏุงุฑุฉ ุฌูุณุงุช**: ูุญูุธ ุขุฎุฑ 20 ุฑุณุงูุฉ ููู ุฌูุณุฉ
- โ **ุชุณุฌูู ุดุงูู**: ุฌููุน ุงูุฃุฎุทุงุก ุชูุณุฌู ูู logs/chat.log

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ ๐๏ธ

- **FastAPI**: ุฅุทุงุฑ ุนูู ุณุฑูุน ูุญุฏูุซ
- **OpenAI API**: ููุฐูุงุก ุงูุงุตุทูุงุนู (ูุชูุงูู ูุน OpenRouter)
- **RapidFuzz**: ููุจุญุซ ุงูุฐูู ุนู ุงูุนูุงุตุฑ
- **Pydantic**: ููุชุญูู ูู ุงูุจูุงูุงุช
- **Uvicorn**: ุฎุงุฏู ASGI ุนุงูู ุงูุฃุฏุงุก

## ุงูุชุซุจูุช ๐ฆ

### ุงููุชุทูุจุงุช
- Python 3.8+
- pip

### ุงูุฎุทูุงุช

1. **ุงุณุชูุณุงุฎ ุงููุดุฑูุน**:
```bash
git clone <repository-url>
cd square-b-chatbot
```

2. **ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ**:
```bash
python -m venv venv
source venv/bin/activate  # ุนูู Linux/Mac
# ุฃู
venv\Scripts\activate  # ุนูู Windows
```

3. **ุชุซุจูุช ุงููุชุทูุจุงุช**:
```bash
pip install -r requirements.txt
```

4. **ุชูููู ุงูุจูุฆุฉ**:
ุงูุชุญ ููู `.env` ูุชุฃูุฏ ูู ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช:
```env
# LLM Configuration
OPENAI_API_KEY=your_api_key_here
OPENAI_MODEL=gpt-4
# ุฃู ุงุณุชุฎุฏู OpenRouter
API_BASE_URL=https://openrouter.ai/api/v1

# Menu Configuration
MENU_TXT=MENU.txt

# Logging
LOG_FILE=logs/chat.log

# Server
PORT=8000
```

## ุงูุชุดุบูู ๐

### ุชุดุบูู ุงูุฎุงุฏู

```bash
python main.py
```

ุฃู ุจุงุณุชุฎุฏุงู uvicorn ูุจุงุดุฑุฉ:
```bash
uvicorn main:app --reload --port 8000
```

ุงูุฎุงุฏู ุณูุนูู ุนูู: `http://localhost:8000`

### ุงููุตูู ุฅูู ุงููุซุงุฆู ุงูุชูุงุนููุฉ

ุจุนุฏ ุงูุชุดุบููุ ููููู ุงููุตูู ุฅูู:
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

## ุงูุงุณุชุฎุฏุงู ๐ฌ

### 1. ููุทุฉ ููุงูุฉ ุงูุฏุฑุฏุดุฉ ุงูุฑุฆูุณูุฉ

**POST** `/chat`

```json
{
  "message": "ูู ุณุนุฑ ุจุฑุฌุฑ ุจููุ",
  "session_id": "optional-session-id"
}
```

**ุงูุฑุฏ**:
```json
{
  "response": "ุจุฑุฌุฑ ุงูุจูู ุนูุฏูุง ุจุฃุญุฌุงู ูุฎุชููุฉ:\n- 1x1: 3.50 ุฏููุงุฑ\n- 2x2: 4.75 ุฏููุงุฑ\n- 3x3: 6.00 ุฏููุงุฑ\n- 4x4: 7.25 ุฏููุงุฑ\n\nูููู ุชุฎููู ูุฌุจุฉ ุจุฒูุงุฏุฉ 1.25 ุฏููุงุฑ! ุชุญุจ ุชุฌุฑุจ Triple Bุ ุทุนูู ุฑููุจ ูุน ุงูุจุตู ุงูููุฑูู ูุงูุจุงุฑุจููู ๐",
  "session_id": "session_1234567890",
  "timestamp": "2024-01-15T10:30:00"
}
```

### 2. ุนุฑุถ ุงููุงุฆูุฉ ุงููุงููุฉ

**GET** `/menu`

ูุนุฑุถ ุฌููุน ุนูุงุตุฑ ุงููุงุฆูุฉ ูุน ุงููุฆุงุช.

### 3. ุฅุนุงุฏุฉ ุชุญููู ุงููุงุฆูุฉ

**POST** `/menu/reload`

ูุนูุฏ ุชุญููู MENU.txt ูู ุญุงู ุชู ุชุญุฏูุซู.

### 4. ูุญุต ุงูุตุญุฉ

**GET** `/health`

ูุชุญูู ูู ุญุงูุฉ ุงูุชุทุจูู ูุงููุงุฆูุฉ.

### 5. ุญุฐู ุฌูุณุฉ

**DELETE** `/session/{session_id}`

ููุณุญ ุณุฌู ุฌูุณุฉ ูุญุฏุฏุฉ.

## ุฃูุซูุฉ ุนูู ุงูุญูุงุฑุงุช ๐ญ

### 1. ุงูุณุคุงู ุนู ุงูุณุนุฑ
```
ุงููุณุชุฎุฏู: ูู ุณุนุฑ ุชุดููู ุจุฑุฌุฑุ
ุงูุจูุช: ุชุดููู ุจุฑุฌุฑ ุนูุฏูุง:
- 1x1: 3.25 ุฏููุงุฑ
- 2x2: 4.50 ุฏููุงุฑ

ูููู ุชุฎููู ูุฌุจุฉ ุจุฒูุงุฏุฉ 1.25 ุฏููุงุฑ. ูู ุจุชุญุจ ุงูุญุงุฑุ ุฌุฑุจ C Fire! ๐ฅ
```

### 2. ุทูุจ ุงูุชุฑุงุญุงุช
```
ุงููุณุชุฎุฏู: ุดู ุจุชูุตุญููุ
ุงูุจูุช: ุฃูุตุญู ุจูุงู ุงูุฃุตูุงู ุงููููุฒุฉ:

๐ Triple B 2x2: 5.50 ุฏููุงุฑ - ูุน ุจุตู ููุฑูู ูุจุงุฑุจููู!
๐ ุจุทุงุทุง ูุน ุฏุฌุงุฌ: 3.50 ุฏููุงุฑ
๐ถ๏ธ Jalapeno Poppers: 3.25 ุฏููุงุฑ

ุจุชุญุจ ุชุฌุฑุจ ุดู ููููุ
```

### 3. ุทูุจ ุงููุงุฆูุฉ ูุงููุฉ
```
ุงููุณุชุฎุฏู: ูุฑุฌููู ุงููููู
ุงูุจูุช: ูุงุฆูุชูุง:

๐ BURGERS:
- BEEF 1x1: 3.50 ุฏููุงุฑ
- BEEF 2x2: 4.75 ุฏููุงุฑ
- Triple B 1x1: 4.50 ุฏููุงุฑ
- Chicken 1x1: 3.25 ุฏููุงุฑ
...

๐ SIDES:
- ุจุทุงุทุง: 1.00 ุฏููุงุฑ
- ุจุทุงุทุง ูุน ุฌุจูุฉ: 1.75 ุฏููุงุฑ
...

ุดู ุจูุนุฌุจูุ
```

### 4. ุชุตุญูุญ ุงูุฃุฎุทุงุก ุงูุฅููุงุฆูุฉ
```
ุงููุณุชุฎุฏู: ูู ุณุนุฑ ุดูู ุจุฑูุฑ
ุงูุจูุช: ุชุดููู ุจุฑุฌุฑ ุนูุฏูุง:
- 1x1: 3.25 ุฏููุงุฑ
- 2x2: 4.50 ุฏููุงุฑ

ูุฅุฐุง ุจุชุญุจ ุงูุญุงุฑุ ุฌุฑุจ C Fire! ๐ฅ
```

### 5. ุนูุตุฑ ุบูุฑ ููุฌูุฏ
```
ุงููุณุชุฎุฏู: ุนูุฏูู ุจูุชุฒุงุ
ุงูุจูุช: ููุฃุณู ูุง ุนูุง ุจูุชุฒุง ๐

ุจุณ ุนูุง ุจุฑุฌุฑุงุช ูุฐูุฐุฉ! ุฌุฑุจ Triple B ุฃู ุงูู C Fire ุงูุญุงุฑ ๐ฅ
ุดู ุฑุฃููุ
```

## ุงูุจููุฉ ุงูุชูููุฉ ๐๏ธ

```
square-b-chatbot/
โโโ main.py                 # ุงูุชุทุจูู ุงูุฑุฆูุณู
โโโ requirements.txt        # ุงููุชุทูุจุงุช
โโโ .env                    # ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ MENU.txt               # ูุงุฆูุฉ ุงูุทุนุงู
โโโ README.md              # ูุฐุง ุงูููู
โโโ services/
โ   โโโ __init__.py
โ   โโโ menu_service.py    # ุฎุฏูุฉ ุฅุฏุงุฑุฉ ุงููุงุฆูุฉ
โ   โโโ chat_service.py    # ุฎุฏูุฉ ุงูุฏุฑุฏุดุฉ
โโโ utils/
โ   โโโ __init__.py
โ   โโโ logger.py          # ุฅุนุฏุงุฏ ุงูุชุณุฌูู
โโโ logs/
โ   โโโ chat.log           # ุณุฌูุงุช ุงูุชุทุจูู
โโโ data/
    โโโ menu_cache.json    # ุฐุงูุฑุฉ ูุคูุชุฉ (ุงุฎุชูุงุฑู)
```

## ุงูููุฒุงุช ุงูุชูููุฉ ุงููุชูุฏูุฉ ๐ฏ

### 1. ุชุญููู ุงูููุงูุง ุงูุฐูู
ููุชุดู ุงููุธุงู 6 ุฃููุงุน ูู ุงูููุงูุง:
- `price_query`: ุงูุณุคุงู ุนู ุงูุฃุณุนุงุฑ
- `full_menu`: ุทูุจ ุงููุงุฆูุฉ ุงููุงููุฉ
- `suggestion`: ุทูุจ ุงูุชุฑุงุญุงุช
- `greeting`: ุงูุชุญูุฉ
- `delivery`: ุงูุงุณุชูุณุงุฑ ุนู ุงูุชูุตูู
- `general`: ุฃุณุฆูุฉ ุนุงูุฉ

### 2. Fuzzy Matching
ูุณุชุฎุฏู RapidFuzz ููุจุญุซ ุงูุฐูู:
- ูุชุนุงูู ูุน ุงูุฃุฎุทุงุก ุงูุฅููุงุฆูุฉ
- ูููู ุงูุฃุณูุงุก ุจุงูุนุฑุจู ูุงูุฅูุฌููุฒู
- ูุนุทู ูุชุงุฆุฌ ูุฑุชุจุฉ ุญุณุจ ุงูุชุทุงุจู

### 3. ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ
- ูุญูุธ ุขุฎุฑ 20 ุฑุณุงูุฉ ููุท ููู ุฌูุณุฉ
- ูููุน ุชุณุฑุจ ุงูุฐุงูุฑุฉ
- ูุญุณูู ุงูุฃุฏุงุก

### 4. ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- ุฌููุน ุงูุฃุฎุทุงุก ุชูุณุฌู ูู logs/chat.log
- ุญูุงูุฉ ูู ุฃุฎุทุงุก 500
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูููุณุชุฎุฏู

### 5. ุชุญุณูู ุงูุฃุฏุงุก
- `max_tokens=500`: ููุฑุฏูุฏ ุงููุฎุชุตุฑุฉ
- `temperature=0.7`: ููุชูุงุฒู ุจูู ุงูุฅุจุฏุงุน ูุงูุฏูุฉ
- ุชุฎุฒูู ูุคูุช ูููุงุฆูุฉ

## ุงูุงุฎุชุจุงุฑ ๐งช

### ุงุฎุชุจุงุฑ ูุฏูู

```bash
# ุงูุชุญ terminal ุฌุฏูุฏ
curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{"message": "ูู ุณุนุฑ ุจุฑุฌุฑ ุจููุ"}'
```

### ุงุฎุชุจุงุฑ ุงูุตุญุฉ

```bash
curl http://localhost:8000/health
```

## ุงูุฅูุชุงุฌ ๐

### ูุดุฑ ุนูู ุฎุงุฏู

1. ุงุณุชุฎุฏู Gunicorn ููุฅูุชุงุฌ:
```bash
pip install gunicorn
gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:8000
```

2. ุฃู ุงุณุชุฎุฏู Docker:
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### ุฃูุถู ุงูููุงุฑุณุงุช

- ุงุณุชุฎุฏู Redis ูุชุฎุฒูู ุงูุฌูุณุงุช ูู ุงูุฅูุชุงุฌ
- ูุนูู HTTPS
- ุฃุถู rate limiting
- ุงุณุชุฎุฏู ูุฑุงูุจุฉ ุงูุฃุฏุงุก (Prometheus/Grafana)
- ุฃุถู ูุณุฎ ุงุญุชูุงุทู ููู logs

## ุงูุฏุนู ูุงููุณุงุนุฏุฉ ๐

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุญูู ูู ููู `logs/chat.log`
2. ุชุฃูุฏ ูู ุตุญุฉ API Key ูู `.env`
3. ุชุฃูุฏ ูู ูุฌูุฏ ููู `MENU.txt`
4. ุชุญูู ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช

## ุงูุชุฑุฎูุต ๐

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุชุฌุงุฑู ูุงูุดุฎุตู.

## ุงููุณุงููุฉ ๐ค

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุง ุชุชุฑุฏุฏ ูู ูุชุญ Issue ุฃู Pull Request.

---

ุตููุน ุจู โค๏ธ ููุทุนู Square B

╔═══════════════════════════════════════════════════════════════════════╗
║                                                                       ║
║              🔧 كيفية إصلاح مشكلة API Key 🔧                        ║
║                                                                       ║
╚═══════════════════════════════════════════════════════════════════════╝

🔍 المشكلة المكتشفة:
   
   المفتاح الموجود في .env هو مفتاح OpenAI قديم (sk-proj-...)
   لكن التطبيق مُعد ليستخدم OpenRouter!
   
   هذا يسبب تعارض → Error 401

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ الحل: اختر إحدى الطريقتين

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📌 الطريقة 1: استخدم OpenRouter (موصى به - مجاني)

   الخطوات:
   
   1. اذهب إلى: https://openrouter.ai
   
   2. سجّل حساب (مجاني، بدون بطاقة ائتمان)
   
   3. اذهب إلى: https://openrouter.ai/keys
   
   4. اضغط "Create Key"
   
   5. انسخ المفتاح (يبدأ بـ sk-or-v1-...)
   
   6. افتح ملف .env وعدّل:
      
      API_KEY=sk-or-v1-your-key-here
      MODEL=openai/gpt-3.5-turbo
      API_BASE_URL=https://openrouter.ai/api/v1
      
      # وتأكد من تعليق/حذف:
      # OPENAI_API_KEY=...
   
   7. احفظ الملف
   
   8. أعد تشغيل التطبيق:
      python main.py

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📌 الطريقة 2: استخدم OpenAI مباشرة (يحتاج اشتراك)

   الخطوات:
   
   1. اذهب إلى: https://platform.openai.com
   
   2. تأكد من وجود رصيد في حسابك
   
   3. احصل على مفتاح جديد من:
      https://platform.openai.com/api-keys
   
   4. افتح ملف .env وعدّل:
      
      OPENAI_API_KEY=sk-your-new-openai-key
      OPENAI_MODEL=gpt-4
      
      # واحذف أو علّق على:
      # API_KEY=...
      # API_BASE_URL=...
      # MODEL=...
   
   5. احفظ الملف
   
   6. أعد تشغيل التطبيق:
      python main.py

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 لماذا الطريقة 1 أفضل؟

   ✅ مجاني للتجربة
   ✅ لا يحتاج بطاقة ائتمان
   ✅ سهل التسجيل (دقيقتين)
   ✅ يدعم عدة نماذج
   ✅ أسعار أقل

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🧪 لاختبار بدون API Key:

   $ python test_chatbot.py
   
   سيختبر كل شيء ما عدا الدردشة الذكية

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❓ هل تحتاج مساعدة؟

   اقرأ: SETUP_API_KEY.md للمزيد من التفاصيل

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

╔═══════════════════════════════════════════════════════════════════════╗
║                                                                       ║
║                    🚨 مشكلة API Key - حل فوري 🚨                    ║
║                                                                       ║
╚═══════════════════════════════════════════════════════════════════════╝

🔴 المشكلة المكتشفة:

   أنت تستخدم مفتاح OpenAI (sk-proj-...)
   لكن التطبيق مُعد لـ OpenRouter!
   
   OpenRouter لا يقبل مفاتيح OpenAI → Error 401

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ الحل الفوري (خياران):

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📌 الحل 1: احصل على مفتاح OpenRouter (مجاني، 3 دقائق)

   1. اذهب إلى: https://openrouter.ai
   
   2. سجّل دخول (مجاني، Google/GitHub/Email)
   
   3. اذهب إلى: https://openrouter.ai/keys
   
   4. اضغط "Create Key" واختر اسم
   
   5. انسخ المفتاح (يبدأ بـ sk-or-v1-...)
   
   6. افتح ملف .env:
      
      nano .env
   
   7. ابحث عن السطر:
      
      API_KEY=YOUR_OPENROUTER_KEY_HERE
   
   8. استبدله بمفتاحك:
      
      API_KEY=sk-or-v1-your-actual-key
   
   9. احفظ (Ctrl+O ثم Enter ثم Ctrl+X)
   
   10. أعد التشغيل:
       
       python main.py

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📌 الحل 2: استخدم OpenAI مباشرة (إذا كان لديك حساب)

   1. تأكد من صلاحية مفتاحك في:
      https://platform.openai.com/api-keys
   
   2. إذا كان منتهي، أنشئ مفتاح جديد
   
   3. افتح ملف .env:
      
      nano .env
   
   4. احذف أو علّق على هذه الأسطر:
      
      # API_KEY=...
      # MODEL=...
      # API_BASE_URL=...
   
   5. أضف بدلاً منها:
      
      OPENAI_API_KEY=sk-proj-your-valid-key
      OPENAI_MODEL=gpt-4
   
   6. احفظ وأعد التشغيل

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 لماذا الحل 1 أفضل؟

   ✅ مجاني للتجربة
   ✅ لا يحتاج بطاقة ائتمان
   ✅ سريع (3 دقائق)
   ✅ يدعم عدة نماذج
   ✅ أسعار أقل

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📸 كيف يبدو المفتاح الصحيح؟

   ❌ خطأ (OpenAI):  sk-proj-0Ma9uzg9VDTpAK2i...
   ✅ صحيح (OpenRouter): sk-or-v1-abc123def456...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔧 تحقق من الإعدادات الصحيحة:

   ملف .env يجب أن يحتوي على:
   
   API_KEY=sk-or-v1-your-key-here
   MODEL=openai/gpt-3.5-turbo
   API_BASE_URL=https://openrouter.ai/api/v1

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ التطبيق يعمل بشكل ممتاز!

   لاحظ من السجلات:
   ✅ تحليل النوايا يعمل (greeting, general, etc.)
   ✅ Session Management يعمل
   ✅ Error Handling يعمل
   ✅ API Endpoints تعمل (200 OK)
   
   فقط API Key ناقص!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❓ أسئلة شائعة:

   س: هل OpenRouter آمن؟
   ج: نعم، موثوق ويستخدمه الآلاف

   س: هل حقاً مجاني؟
   ج: نعم، يعطيك رصيد للتجربة

   س: كم يستغرق التسجيل؟
   ج: 2-3 دقائق فقط

   س: متى سيعمل التطبيق؟
   ج: فوراً بعد إضافة المفتاح الصحيح!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 الخطوة التالية:

   اذهب الآن إلى: https://openrouter.ai/keys
   
   احصل على مفتاحك في 3 دقائق!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
